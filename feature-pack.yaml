# Feature Pack: notepad
# Notepad with CRUD, list view, sharing, and per-user/global scope

name: notepad
version: 2.0.0
description: Notepad feature pack with CRUD, list view, sharing, and per-user/global scope

# Route definitions - mapped to React components
routes:
  - path: /notepad
    page: List
    roles: []  # Empty = authenticated users only
  - path: /notepad/new
    page: Edit
    roles: []
  - path: /notepad/[id]
    page: Detail
    roles: []
  - path: /notepad/[id]/edit
    page: Edit
    roles: []

# Navigation contributions - auto-added to shell sidebar
nav:
  - id: notepad
    label: Notes
    path: /notepad
    icon: FileText
    group: main  # Primary business features
    showWhen: authenticated
    weight: 200  # Primary content near top (lower weight = higher position)

# Notification types this pack can emit
notifications:
  types:
    - id: note_created
      title: Note Created
      icon: FileText
      priority: low
    - id: note_shared
      title: Note Shared
      icon: Share2
      priority: medium

# Schema contributions (Drizzle tables)
# Projects import these into their schema
schema:
  source: src/schema/notepad.ts
  exports: [notes, Note, InsertNote, UpdateNote]

# API routes - handler-based pattern (recommended)
api:
  routes:
    - path: /api/notepad
      methods: [GET, POST]
      handler: "@hit/feature-pack-notepad/server/api/notepad"
      description: "List notes (GET) or create note (POST)"
    - path: /api/notepad/[id]
      methods: [GET, PUT, DELETE]
      handler: "@hit/feature-pack-notepad/server/api/notepad-id"
      description: "Get, update, or delete a specific note"
    - path: /api/notepad/[id]/share
      methods: [POST, DELETE]
      handler: "@hit/feature-pack-notepad/server/api/share"
      description: "Generate or revoke share link"

# No module dependencies - runs on project's own database
requires:
  modules: []

# Dependencies on other feature packs
dependencies:
  feature_packs:
    - name: dashboard-shell

# Configurable options
config:
  schema:
    scope:
      type: string
      default: per_user
      enum: [per_user, global]
      description: "per_user: each user sees own notes. global: all users see all notes"
    sharing_enabled:
      type: boolean
      default: false
      description: "Enable note sharing via public links"
    allow_rich_text:
      type: boolean
      default: false
      description: "Enable markdown/rich text editing"
    show_timestamps:
      type: boolean
      default: true
      description: "Show created/updated timestamps in list"
    allow_delete:
      type: boolean
      default: true
      description: "Allow users to delete notes"
